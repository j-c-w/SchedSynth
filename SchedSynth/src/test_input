produce producer:
  for a:
    for b:
      producer(...) = ...
produce consumer:
  for z:
    for y:
      for x:
        consumer(...) = ...
