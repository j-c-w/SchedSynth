produce cons:
  for y:
    vectorized x.x_outer:
        vectorized x.x_inner in [0, 4]:
          cons(...) = ...
